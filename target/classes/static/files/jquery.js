(function(d,a){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(h){a(d,h)}):"object"==typeof module&&module.exports?module.exports=a(d,require("jquery")):d.jQueryBridget=a(d,d.jQuery)})(window,function(d,a){function h(k,h,n){function g(g,f,l){var e,b="$()."+k+'("'+f+'")';g.each(function(g,c){var a=n.data(c,k);if(a){var r=a[f];r&&"_"!=f.charAt(0)?(a=r.apply(a,l),e=void 0===e?a:e):q(b+" is not a valid method")}else q(k+" not initialized. Cannot call methods, i.e. "+
b)});return void 0!==e?e:g}function r(g,f){g.each(function(g,e){var l=n.data(e,k);l?(l.option(f),l._init()):(l=new h(e,f),n.data(e,k,l))})}if(n=n||a||d.jQuery)h.prototype.option||(h.prototype.option=function(g){n.isPlainObject(g)&&(this.options=n.extend(!0,this.options,g))}),n.fn[k]=function(e){if("string"==typeof e){var f=b.call(arguments,1);return g(this,e,f)}r(this,e);return this},c(n)}function c(b){!b||b&&b.bridget||(b.bridget=h)}var b=Array.prototype.slice,k=d.console,q="undefined"==typeof k?
function(){}:function(b){k.error(b)};c(a||d.jQuery);return h});
(function(d,a){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",a):"object"==typeof module&&module.exports?module.exports=a():d.EvEmitter=a()})(this,function(){function d(){}var a=d.prototype;a.on=function(a,c){if(a&&c){var b=this._events=this._events||{},b=b[a]=b[a]||[];-1==b.indexOf(c)&&b.push(c);return this}};a.once=function(a,c){if(a&&c){this.on(a,c);var b=this._onceEvents=this._onceEvents||{};(b[a]=b[a]||[])[c]=!0;return this}};a.off=function(a,c){var b=this._events&&this._events[a];
if(b&&b.length){var k=b.indexOf(c);-1!=k&&b.splice(k,1);return this}};a.emitEvent=function(a,c){var b=this._events&&this._events[a];if(b&&b.length){var k=0,d=b[k];c=c||[];for(var h=this._onceEvents&&this._onceEvents[a];d;){var m=h&&h[d];m&&(this.off(a,d),delete h[d]);d.apply(this,c);k+=m?0:1;d=b[k]}return this}};return d});
(function(d,a){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return a()}):"object"==typeof module&&module.exports?module.exports=a():d.getSize=a()})(window,function(){function d(b){var g=parseFloat(b);return-1==b.indexOf("%")&&!isNaN(g)&&g}function a(){}function h(a){(a=getComputedStyle(a))||b("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1");return a}function c(a){if(!p){p=!0;var g=document.createElement("div");
g.style.width="200px";g.style.padding="1px 2px 3px 4px";g.style.borderStyle="solid";g.style.borderWidth="1px 2px 3px 4px";g.style.boxSizing="border-box";var b=document.body||document.documentElement;b.appendChild(g);var e=h(g);c.isBoxSizeOuter=m=200==d(e.width);b.removeChild(g)}"string"==typeof a&&(a=document.querySelector(a));if(a&&"object"==typeof a&&a.nodeType){b=h(a);if("none"==b.display){g={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(b=0;b<q;b++)g[k[b]]=0;return g}g=
{};g.width=a.offsetWidth;g.height=a.offsetHeight;a=g.isBorderBox="border-box"==b.boxSizing;for(e=0;e<q;e++){var f=k[e],l=parseFloat(b[f]);g[f]=isNaN(l)?0:l}var e=g.paddingLeft+g.paddingRight,f=g.paddingTop+g.paddingBottom,l=g.marginLeft+g.marginRight,v=g.marginTop+g.marginBottom,n=g.borderLeftWidth+g.borderRightWidth,t=g.borderTopWidth+g.borderBottomWidth;a=a&&m;var u=d(b.width);!1!==u&&(g.width=u+(a?0:e+n));b=d(b.height);!1!==b&&(g.height=b+(a?0:f+t));g.innerWidth=g.width-(e+n);g.innerHeight=g.height-
(f+t);g.outerWidth=g.width+l;g.outerHeight=g.height+v;return g}}var b="undefined"==typeof console?a:function(b){console.error(b)},k="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "),q=k.length,p=!1,m;return c});
(function(d,a){"function"==typeof define&&define.amd?define("matches-selector/matches-selector",a):"object"==typeof module&&module.exports?module.exports=a():d.matchesSelector=a()})(window,function(){var d=function(){var a=Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var d=["webkit","moz","ms","o"],c=0;c<d.length;c++){var b=d[c]+"MatchesSelector";if(a[b])return b}}();return function(a,h){return a[d](h)}});
(function(d,a){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["matches-selector/matches-selector"],function(h){return a(d,h)}):"object"==typeof module&&module.exports?module.exports=a(d,require("desandro-matches-selector")):d.fizzyUIUtils=a(d,d.matchesSelector)})(window,function(d,a){var h={extend:function(b,a){for(var c in a)b[c]=a[c];return b},modulo:function(a,c){return(a%c+c)%c},makeArray:function(a){var b=[];if(Array.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=
0;c<a.length;c++)b.push(a[c]);else b.push(a);return b},removeFrom:function(a,c){var b=a.indexOf(c);-1!=b&&a.splice(b,1)},getParent:function(b,c){for(;b!=document.body;)if(b=b.parentNode,a(b,c))return b},getQueryElement:function(a){return"string"==typeof a?document.querySelector(a):a},handleEvent:function(a){var b="on"+a.type;if(this[b])this[b](a)},filterFindElements:function(b,c){b=h.makeArray(b);var d=[];b.forEach(function(b){if(b instanceof HTMLElement)if(c){a(b,c)&&d.push(b);b=b.querySelectorAll(c);
for(var k=0;k<b.length;k++)d.push(b[k])}else d.push(b)});return d},debounceMethod:function(a,c,d){var b=a.prototype[c],k=c+"Timeout";a.prototype[c]=function(){var a=this[k];a&&clearTimeout(a);var g=arguments,c=this;this[k]=setTimeout(function(){b.apply(c,g);delete c[k]},d||100)}},docReady:function(a){"complete"==document.readyState?a():document.addEventListener("DOMContentLoaded",a)},toDashed:function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}},c=d.console;h.htmlInit=
function(a,k){h.docReady(function(){var b=h.toDashed(k),p="data-"+b,m=document.querySelectorAll("["+p+"]"),b=document.querySelectorAll(".js-"+b),m=h.makeArray(m).concat(h.makeArray(b)),n=p+"-options",g=d.jQuery;m.forEach(function(b){var e=b.getAttribute(p)||b.getAttribute(n),f;try{f=e&&JSON.parse(e)}catch(l){c&&c.error("Error parsing "+p+" on "+b.className+": "+l);return}e=new a(b,f);g&&g.data(b,k,e)})})};return h});
(function(d,a){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],function(h,c){return a(d,h,c)}):"object"==typeof module&&module.exports?module.exports=a(d,require("ev-emitter"),require("get-size")):(d.Outlayer={},d.Outlayer.Item=a(d,d.EvEmitter,d.getSize))})(window,function(d,a,h){function c(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}d=document.documentElement.style;var b="string"==typeof d.transition?"transition":
"WebkitTransition",k={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[b],q=["string"==typeof d.transform?"transform":"WebkitTransform",b,b+"Duration",b+"Property"];a=c.prototype=Object.create(a.prototype);a.constructor=c;a._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};a.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};a.getSize=function(){this.size=h(this.element)};a.css=function(a){var b=this.element.style,
g;for(g in a)b[q[g]||g]=a[g]};a.getPosition=function(){var a=getComputedStyle(this.element),b=this.layout._getOption("originLeft"),c=this.layout._getOption("originTop"),f=a[b?"left":"right"],l=a[c?"top":"bottom"],a=this.layout.size,f=-1!=f.indexOf("%")?parseFloat(f)/100*a.width:parseInt(f,10),l=-1!=l.indexOf("%")?parseFloat(l)/100*a.height:parseInt(l,10),f=isNaN(f)?0:f,l=isNaN(l)?0:l,f=f-(b?a.paddingLeft:a.paddingRight),l=l-(c?a.paddingTop:a.paddingBottom);this.position.x=f;this.position.y=l};a.layoutPosition=
function(){var a=this.layout.size,b={},c=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop"),l=c?"right":"left";b[c?"left":"right"]=this.getXValue(this.position.x+a[c?"paddingLeft":"paddingRight"]);b[l]="";c=f?"bottom":"top";b[f?"top":"bottom"]=this.getYValue(this.position.y+a[f?"paddingTop":"paddingBottom"]);b[c]="";this.css(b);this.emitEvent("layout",[this])};a.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?
a/this.layout.size.width*100+"%":a+"px"};a.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?a/this.layout.size.height*100+"%":a+"px"};a._transitionTo=function(a,b){this.getPosition();var c=this.position.x,f=this.position.y,l=parseInt(a,10),g=parseInt(b,10),l=l===this.position.x&&g===this.position.y;this.setPosition(a,b);l&&!this.isTransitioning?this.layoutPosition():(l={},l.transform=this.getTranslate(a-c,b-f),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},
isCleaning:!0}))};a.getTranslate=function(a,b){var c=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop");return"translate3d("+(c?a:-a)+"px, "+(f?b:-b)+"px, 0)"};a.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};a.moveTo=a._transitionTo;a.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};a._nonTransition=function(a){this.css(a.to);a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};
a._transition=function(a){if(parseFloat(this.layout.options.transitionDuration)){var b=this._transn,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0}else this._nonTransition(a)};var p="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(q.transform||"transform");a.enableTransition=function(){this.isTransitioning||
(this.css({transitionProperty:p,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(k,this,!1))};a.transition=c.prototype[b?"_transition":"_nonTransition"];a.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};a.onotransitionend=function(a){this.ontransitionend(a)};var m={"-webkit-transform":"transform"};a.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=m[a.propertyName]||a.propertyName;delete b.ingProperties[c];var f;a:{f=
b.ingProperties;for(var l in f){f=!1;break a}f=!0}f&&this.disableTransition();c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]);c in b.onEnd&&(b.onEnd[c].call(this),delete b.onEnd[c]);this.emitEvent("transitionEnd",[this])}};a.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(k,this,!1);this.isTransitioning=!1};a._removeStyles=function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var n={transitionProperty:"",transitionDuration:""};a.removeTransitionStyles=
function(){this.css(n)};a.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};a.remove=function(){b&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()};a.reveal=function(){delete this.isHidden;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd;
this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})};a.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")};a.getHideRevealTransitionEndProperty=function(a){a=this.layout.options[a];if(a.opacity)return"opacity";for(var b in a)return b};a.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd;this.transition({from:a.visibleStyle,
to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})};a.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))};a.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return c});
(function(d,a){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(h,c,b,k){return a(d,h,c,b,k)}):"object"==typeof module&&module.exports?module.exports=a(d,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):d.Outlayer=a(d,d.EvEmitter,d.getSize,d.fizzyUIUtils,d.Outlayer.Item)})(window,function(d,a,h,c,b){function k(a,b){var f=c.getQueryElement(a);f?(this.element=
f,m&&(this.$element=m(this.element)),this.options=c.extend({},this.constructor.defaults),this.option(b),f=++g,this.element.outlayerGUID=f,r[f]=this,this._create(),this._getOption("initLayout")&&this.layout()):p&&p.error("Bad element for "+this.constructor.namespace+": "+(f||a))}function q(a){function f(){a.apply(this,arguments)}f.prototype=Object.create(a.prototype);return f.prototype.constructor=f}var p=d.console,m=d.jQuery,n=function(){},g=0,r={};k.namespace="outlayer";k.Item=b;k.defaults={containerStyle:{position:"relative"},
initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var e=k.prototype;c.extend(e,a.prototype);e.option=function(a){c.extend(this.options,a)};e._getOption=function(a){var f=this.constructor.compatOptions[a];return f&&void 0!==this.options[f]?this.options[f]:this.options[a]};k.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",
originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};e._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);c.extend(this.element.style,this.options.containerStyle);this._getOption("resize")&&this.bindResize()};e.reloadItems=function(){this.items=this._itemize(this.element.children)};e._itemize=function(a){a=this._filterFindItemElements(a);for(var f=this.constructor.Item,b=[],c=0;c<a.length;c++){var d=new f(a[c],
this);b.push(d)}return b};e._filterFindItemElements=function(a){return c.filterFindElements(a,this.options.itemSelector)};e.getItemElements=function(){return this.items.map(function(a){return a.element})};e.layout=function(){this._resetLayout();this._manageStamps();var a=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==a?a:!this._isLayoutInited);this._isLayoutInited=!0};e._init=e.layout;e._resetLayout=function(){this.getSize()};e.getSize=function(){this.size=h(this.element)};
e._getMeasurement=function(a,b){var f=this.options[a],c;f?("string"==typeof f?c=this.element.querySelector(f):f instanceof HTMLElement&&(c=f),this[a]=c?h(c)[b]:f):this[a]=0};e.layoutItems=function(a,b){a=this._getItemsForLayout(a);this._layoutItems(a,b);this._postLayout()};e._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})};e._layoutItems=function(a,b){this._emitCompleteOnItems("layout",a);if(a&&a.length){var f=[];a.forEach(function(a){var c=this._getItemLayoutPosition(a);
c.item=a;c.isInstant=b||a.isLayoutInstant;f.push(c)},this);this._processLayoutQueue(f)}};e._getItemLayoutPosition=function(){return{x:0,y:0}};e._processLayoutQueue=function(a){a.forEach(function(a){this._positionItem(a.item,a.x,a.y,a.isInstant)},this)};e._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)};e._postLayout=function(){this.resizeContainer()};e.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,
!0),this._setContainerMeasure(a.height,!1))}};e._getContainerSize=n;e._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}};e._emitCompleteOnItems=function(a,b){function c(){d.dispatchEvent(a+"Complete",null,[b])}function f(){e++;e==l&&c()}var d=this,l=b.length;if(b&&l){var e=
0;b.forEach(function(b){b.once(a,f)})}else c()};e.dispatchEvent=function(a,b,c){var f=b?[b].concat(c):c;this.emitEvent(a,f);m&&(this.$element=this.$element||m(this.element),b?(b=m.Event(b),b.type=a,this.$element.trigger(b,c)):this.$element.trigger(a,c))};e.ignore=function(a){if(a=this.getItem(a))a.isIgnored=!0};e.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored};e.stamp=function(a){if(a=this._find(a))this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this)};e.unstamp=function(a){(a=
this._find(a))&&a.forEach(function(a){c.removeFrom(this.stamps,a);this.unignore(a)},this)};e._find=function(a){if(a)return"string"==typeof a&&(a=this.element.querySelectorAll(a)),a=c.makeArray(a)};e._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))};e._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,
right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}};e._manageStamp=n;e._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect;a=h(a);return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}};e.handleEvent=c.handleEvent;e.bindResize=function(){d.addEventListener("resize",this);this.isResizeBound=!0};e.unbindResize=function(){d.removeEventListener("resize",
this);this.isResizeBound=!1};e.onresize=function(){this.resize()};c.debounceMethod(k,"onresize",100);e.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()};e.needsResizeLayout=function(){var a=h(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth};e.addItems=function(a){a=this._itemize(a);a.length&&(this.items=this.items.concat(a));return a};e.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))};e.prepended=function(a){a=
this._itemize(a);if(a.length){var b=this.items.slice(0);this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}};e.reveal=function(a){this._emitCompleteOnItems("reveal",a);a&&a.length&&a.forEach(function(a){a.reveal()})};e.hide=function(a){this._emitCompleteOnItems("hide",a);a&&a.length&&a.forEach(function(a){a.hide()})};e.revealItemElements=function(a){a=this.getItems(a);this.reveal(a)};e.hideItemElements=function(a){a=this.getItems(a);
this.hide(a)};e.getItem=function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b];if(c.element==a)return c}};e.getItems=function(a){a=c.makeArray(a);var b=[];a.forEach(function(a){(a=this.getItem(a))&&b.push(a)},this);return b};e.remove=function(a){a=this.getItems(a);this._emitCompleteOnItems("remove",a);a&&a.length&&a.forEach(function(a){a.remove();c.removeFrom(this.items,a)},this)};e.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";this.items.forEach(function(a){a.destroy()});
this.unbindResize();delete r[this.element.outlayerGUID];delete this.element.outlayerGUID;m&&m.removeData(this.element,this.constructor.namespace)};k.data=function(a){return(a=(a=c.getQueryElement(a))&&a.outlayerGUID)&&r[a]};k.create=function(a,d){var e=q(k);e.defaults=c.extend({},k.defaults);c.extend(e.defaults,d);e.compatOptions=c.extend({},k.compatOptions);e.namespace=a;e.data=k.data;e.Item=q(b);c.htmlInit(e,a);m&&m.bridget&&m.bridget(a,e);return e};k.Item=b;return k});
(function(d,a){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],a):"object"==typeof module&&module.exports?module.exports=a(require("outlayer"),require("get-size")):d.Masonry=a(d.Outlayer,d.getSize)})(window,function(d,a){var h=d.create("masonry");h.compatOptions.fitWidth="isFitWidth";h.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=
[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0};h.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var c=this.items[0];this.columnWidth=(c=c&&c.element)&&a(c).outerWidth||this.containerWidth}var c=this.columnWidth+=this.gutter,b=this.containerWidth+this.gutter,d=c-b%c,c=Math[d&&1>d?"round":"floor"](b/c);this.cols=Math.max(c,1)};h.prototype.getContainerWidth=function(){var c=this._getOption("fitWidth")?this.element.parentNode:this.element;this.containerWidth=
(c=a(c))&&c.innerWidth};h.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,b=Math[b&&1>b?"round":"ceil"](a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),c=this._getColGroup(b),d=Math.min.apply(Math,c),b=c.indexOf(d),h={x:this.columnWidth*b,y:d};a=d+a.size.outerHeight;c=this.cols+1-c.length;for(d=0;d<c;d++)this.colYs[b+d]=a;return h};h.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;d<c;d++){var h=
this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,h)}return b};h.prototype._manageStamp=function(c){var b=a(c),d=this._getElementOffset(c);c=this._getOption("originLeft")?d.left:d.right;var h=c+b.outerWidth,p=Math.floor(c/this.columnWidth),p=Math.max(0,p);c=Math.floor(h/this.columnWidth);c-=h%this.columnWidth?0:1;c=Math.min(this.cols-1,c);b=(this._getOption("originTop")?d.top:d.bottom)+b.outerHeight;for(d=p;d<=c;d++)this.colYs[d]=Math.max(b,this.colYs[d])};h.prototype._getContainerSize=function(){this.maxY=
Math.max.apply(Math,this.colYs);var a={height:this.maxY};this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth());return a};h.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter};h.prototype.needsResizeLayout=function(){var a=this.containerWidth;this.getContainerWidth();return a!=this.containerWidth};return h});